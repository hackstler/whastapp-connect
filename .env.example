# ── Backend RAG ───────────────────────────────────────────────────────────────

# URL base del rag-agent-backbone, sin path ni slash final (REQUERIDO)
# Los endpoints se construyen en código: /chat, /ingest, /auth/login
RAG_HOST=http://localhost:4000

# Ruta para guardar la sesión de WhatsApp (usar volumen persistente en producción)
SESSION_PATH=.wwebjs_auth

# TTL del cache LRU de deduplicación en milisegundos (default: 5 minutos)
DEDUP_TTL_MS=300000

# Número máximo de entradas en el cache LRU
DEDUP_MAX_SIZE=1000

# ── Servidor HTTP ─────────────────────────────────────────────────────────────

PORT=3000
LOG_LEVEL=info

# ── Autenticación JWT (REQUERIDO) ─────────────────────────────────────────────
#
# Debe ser exactamente el mismo valor que JWT_SECRET en el rag-agent-backbone.
# Se usa para:
#   1. Verificar los tokens de sesión del dashboard (emitidos por el backbone en el login)
#   2. Generar un JWT de servicio interno para llamar a los endpoints del backbone
#      (chat y ingest) desde el proceso de WhatsApp
#
# Genera uno con: openssl rand -hex 32
JWT_SECRET=

# Modo mock para desarrollar sin backbone RAG
RAG_INGEST_MOCK_ENABLED=false
RAG_INGEST_MOCK_DELAY_MS=400

